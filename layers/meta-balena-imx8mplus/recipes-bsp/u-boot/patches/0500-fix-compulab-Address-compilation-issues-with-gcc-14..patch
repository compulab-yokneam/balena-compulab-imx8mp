From d210ca2ffd58b0c01d248bd1e19e59d6700cd01b Mon Sep 17 00:00:00 2001
From: Valentin Raevsky <valentin@compulab.co.il>
Date: Sun, 30 Mar 2025 15:46:35 +0300
Subject: [PATCH] fix: compulab: Address compilation issues with
 gcc-14.2.0-nolibc

Signed-off-by: Valentin Raevsky <valentin@compulab.co.il>
---
 board/compulab/common/common.c | 1 +
 board/compulab/common/fdt.c    | 2 ++
 board/compulab/common/mmc.c    | 1 +
 3 files changed, 4 insertions(+)

diff --git a/board/compulab/common/common.c b/board/compulab/common/common.c
index a425778fdee..29f0d7e1310 100644
--- a/board/compulab/common/common.c
+++ b/board/compulab/common/common.c
@@ -11,6 +11,7 @@
 #include <asm/bootm.h>
 #include <asm/gpio.h>
 #include <asm/setup.h>
+#include <linux/delay.h>
 
 #include "common.h"
 #include "eeprom.h"
diff --git a/board/compulab/common/fdt.c b/board/compulab/common/fdt.c
index 4d95a207dac..91d8ad9d70e 100644
--- a/board/compulab/common/fdt.c
+++ b/board/compulab/common/fdt.c
@@ -7,6 +7,8 @@
 #include <mmc.h>
 #include "mmc.h"
 #include "eeprom.h"
+#include <env_internal.h>
+#include <fdt_support.h>
 
 void fdt_set_sn(void *blob)
 {
diff --git a/board/compulab/common/mmc.c b/board/compulab/common/mmc.c
index b2922122b2e..b2771d446d9 100644
--- a/board/compulab/common/mmc.c
+++ b/board/compulab/common/mmc.c
@@ -5,6 +5,7 @@
 #include <asm/io.h>
 #include <asm/setup.h>
 #include <mmc.h>
+#include <env.h>
 #include "mmc.h"
 
 static int env_dev = -1;
-- 
2.34.1

