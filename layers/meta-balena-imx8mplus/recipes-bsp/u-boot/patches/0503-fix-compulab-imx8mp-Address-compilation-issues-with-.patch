From 6e117f12039d548a8d22e9140f98c5ff70cf5833 Mon Sep 17 00:00:00 2001
From: Valentin Raevsky <valentin@compulab.co.il>
Date: Thu, 17 Apr 2025 00:07:46 +0300
Subject: [PATCH] fix: compulab: imx8mp: Address compilation issues with
 gcc-14.2.0-nolibc

Signed-off-by: Valentin Raevsky <valentin@compulab.co.il>
---
 board/compulab/plat/imx8mp/ddr/ddr.c | 4 ++--
 board/compulab/plat/imx8mp/spl/spl.c | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/board/compulab/plat/imx8mp/ddr/ddr.c b/board/compulab/plat/imx8mp/ddr/ddr.c
index 82b9d974a22..fe8cfbafe03 100644
--- a/board/compulab/plat/imx8mp/ddr/ddr.c
+++ b/board/compulab/plat/imx8mp/ddr/ddr.c
@@ -18,8 +18,8 @@
 /* Forward declarations */
 u32 cl_eeprom_get_ddrinfo(void);
 u32 cl_eeprom_set_ddrinfo(u32 ddrinfo);
-u32 cl_eeprom_get_subind(void);
-u32 cl_eeprom_set_subind(u32 subind);
+u8 cl_eeprom_get_subind(void);
+u8 cl_eeprom_set_subind(u8 subind);
 void reset_misc(void);
 
 static void do_reset_spl(void) { reset_misc(); }
diff --git a/board/compulab/plat/imx8mp/spl/spl.c b/board/compulab/plat/imx8mp/spl/spl.c
index cf9886db643..2164e61a761 100644
--- a/board/compulab/plat/imx8mp/spl/spl.c
+++ b/board/compulab/plat/imx8mp/spl/spl.c
@@ -52,7 +52,7 @@ int spl_start_uboot(void) {
 }
 #endif
 
-int spl_board_boot_device(enum boot_device boot_dev_spl)
+int spl_board_boot_device(u32 boot_dev_spl)
 {
 #ifdef CONFIG_SPL_BOOTROM_SUPPORT
 	return BOOT_DEVICE_BOOTROM;
-- 
2.34.1

